<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT>
  <HEADER 
  AUTHOR="Derek Frankhouser" 
  COMPATIBILITY="ALL" 
  DATA_AUTO_PROPAGATE="true" 
  PLATEFORM="ALL" 
  RELEASE_DATE="20140731" 
  SERIAL="" 
  STARTABLE="false" 
  HAS_CONDITIONAL_OUTPUTS="true"
  STATUS="ALPHA" 
  SCHEMA_AUTO_PROPAGATE ="true"
  VERSION="0.1"> 
    <SIGNATURE/> 
  </HEADER>  
  <FAMILIES> 
    <FAMILY>FullTextSearch/Elasticsearch</FAMILY> 
  </FAMILIES>  
  <DOCUMENTATION> 
    <URL/> 
  </DOCUMENTATION>  
  <CONNECTORS> 
  <CONNECTOR CTYPE="FLOW" MAX_INPUT="1" MAX_OUTPUT="0"/>
	<CONNECTOR NAME="FILTER" CTYPE="FLOW" MAX_OUTPUT="1" COLOR="086438" BASE_SCHEMA="FLOW"/>
	<CONNECTOR NAME="REJECT" CTYPE="FLOW" MAX_OUTPUT="1" LINE_STYLE="2" COLOR="f36300" BASE_SCHEMA="FLOW" />
	<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="0" MAX_INPUT="0" />
	<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
	<CONNECTOR CTYPE="COMPONENT_OK" />
	<CONNECTOR CTYPE="COMPONENT_ERROR" />
	<CONNECTOR CTYPE="RUN_IF" />
  </CONNECTORS>  
  <PARAMETERS>
    <PARAMETER FIELD="SCHEMA_TYPE" NAME="SCHEMA" NUM_ROW="1" REQUIRED="true">
      
    </PARAMETER>
    <PARAMETER NAME="SCHEMA_FILTER" FIELD="SCHEMA_TYPE" NUM_ROW="1"	CONTEXT="FILTER">
      
    </PARAMETER>
    <PARAMETER NAME="SCHEMA_REJECT" FIELD="SCHEMA_TYPE" NUM_ROW="1"	CONTEXT="REJECT">      
	   <TABLE READONLY="true">
        <COLUMN NAME="errorMessage" TYPE="id_String" LENGTH="255" READONLY="true" CUSTOM="true"/>
      </TABLE>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="ES_HOST" NUM_ROW="2" REQUIRED="true">
    	<DEFAULT>"localhost"</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="INTEGER" NAME="ES_PORT" NUM_ROW="2" REQUIRED="true">
    	<DEFAULT>9300</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="ES_INDEX" NUM_ROW="3" REQUIRED="true">
    	<DEFAULT>""</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="TEXT" NAME="ES_TYPE" NUM_ROW="3" REQUIRED="true">
    	<DEFAULT>""</DEFAULT>
    </PARAMETER>
	<PARAMETER FIELD="TEXT" NAME="ES_CLUSTER" NUM_ROW="4" REQUIRED="true">
    	<DEFAULT>"elasticsearch"</DEFAULT>
    </PARAMETER>
	<PARAMETER NAME="TEMPLATE" FIELD="MEMO_JAVA" REQUIRED="true"
		NUM_ROW="20">
		<DEFAULT>{'hello':'world'}</DEFAULT>
	</PARAMETER>
  </PARAMETERS>  
  <ADVANCED_PARAMETERS> 
    <PARAMETER FIELD="INTEGER" NAME="BATCH_SIZE" NUM_ROW="1"  REQUIRED="true">
		<DEFAULT>100</DEFAULT>
    </PARAMETER>
    <PARAMETER FIELD="CHECK" NAME="VERBOSE_INDEXING" REQUIRED="false"
    	NUM_ROW="2">
    </PARAMETER>
    <PARAMETER FIELD="CHECK" NAME="DIE_ERROR" NUM_ROW="3" REQUIRED="false"></PARAMETER>
     <PARAMETER FIELD="CHECK" NAME="PRINT_REQUESTS" NUM_ROW="3" REQUIRED="false"></PARAMETER>
  </ADVANCED_PARAMETERS>  
  <CODEGENERATION>
	<IMPORTS>
		<IMPORT NAME="elasticsearch" MODULE="elasticsearch.jar"
			REQUIRED="true" />
		<IMPORT NAME="lucene-core" MODULE="lucene-core.jar"
			REQUIRED="true" /><IMPORT NAME="jmustache"
			MODULE="jmustache-1.8.jar" REQUIRED="true">
</IMPORT>

	</IMPORTS>
  </CODEGENERATION>  
  <RETURNS>
		<RETURN NAME="NB_LINE" TYPE="id_Integer" AVAILABILITY="AFTER" />
  </RETURNS>
</COMPONENT>
